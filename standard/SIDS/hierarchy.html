
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>6. Hierarchical Structures &#8212; CGNS Official Web Site</title>
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/filemap.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/math_override.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/CGNS_empty.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="7. Grid Coordinates, Elements, and Flow Solution" href="grid.html" />
    <link rel="prev" title="5. Data-Array Structure Definitions" href="array.html" />
  
  <link rel="apple-touch-icon" href="../../_static/CGNS_empty.svg" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="grid.html" title="7. Grid Coordinates, Elements, and Flow Solution"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="array.html" title="5. Data-Array Structure Definitions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CGNS Official Web Site</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../standard.html" >Standard Specification</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="CGNS_SIDS.html" accesskey="U">CGNS/SIDS - Standard Interface Data Structures</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">6. </span>Hierarchical Structures</a></li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Contents</h2>
    <div class="sidebar-localtoc">
      <ul>
<li><a class="reference internal" href="#">6. Hierarchical Structures</a><ul>
<li><a class="reference internal" href="#cgns-version">6.1. CGNS Version</a></li>
<li><a class="reference internal" href="#cgns-entry-level-structure-definition-cgnsbase-t">6.2. CGNS Entry Level Structure Definition: <code class="docutils literal notranslate"><span class="pre">CGNSBase_t</span></code></a><ul>
<li><a class="reference internal" href="#base-level-families">6.2.1. Base Level Families</a></li>
</ul>
</li>
<li><a class="reference internal" href="#zone-structure-definition-zone-t">6.3. Zone Structure Definition: <code class="docutils literal notranslate"><span class="pre">Zone_t</span></code></a></li>
<li><a class="reference internal" href="#precedence-rules-and-scope-within-the-hierarchy">6.4. Precedence Rules and Scope Within the Hierarchy</a><ul>
<li><a class="reference internal" href="#single-base">6.4.1. Single Base</a></li>
<li><a class="reference internal" href="#multiple-bases">6.4.2. Multiple Bases</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../../index.html">Docs</a></li>
              
                <li><a href="../../standard.html">Standard Specification</a></li>
              
                <li><a href="CGNS_SIDS.html">CGNS/SIDS - Standard Interface Data Structures</a></li>
              
              <li><span class="section-number">6. </span>Hierarchical Structures</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="hierarchical-structures">
<h1><span class="section-number">6. </span>Hierarchical Structures<a class="headerlink" href="#hierarchical-structures" title="Permalink to this headline">¶</a></h1>
<p>This section presents the structure-type definitions for the top levels of the CGNS hierarchy. As stated in the <span class="xref std std-ref">SIDS design philosophy</span>, the hierarchy is <span class="xref std std-ref">topologically based</span>, where the overall organization is by zones. All information pertaining to a given zone, including grid coordinates, flow solution, and other related data, is contained within that zone’s structure entity. This section describes the <span class="xref std std-ref">CGNS version number</span>, defines the <span class="xref std std-ref">CGNS database entry level structure</span> and the <span class="xref std std-ref">zone structure</span>, and concludes with a discussion of <a class="reference internal" href="#precedence"><span class="std std-ref">globally applicable data</span></a>.</p>
<div class="section" id="cgns-version">
<h2><span class="section-number">6.1. </span>CGNS Version<a class="headerlink" href="#cgns-version" title="Permalink to this headline">¶</a></h2>
<p>CGNS is an evolving standard. Although great care is taken to make CGNS databases backward-compatible with previous versions whenever possible, new nodes and new features are still being added that make them non-forward-compatible. To address this issue, each new version of the standard is labeled with a version number that should be written in the file. This version number corresponds to the version of the SIDS and is an essential part of the file containing the CGNS database. The file can not be interpreted properly without knowledge of this version number.</p>
<p>Physically, this version number is located directly under the root node of the file. The <span class="xref std std-ref">SIDS File Mapping Manual</span> defines this location more precisely.</p>
<p>Historically, the version number was used to describe the version of the <span class="xref std std-ref">Mid-Level Library</span> used to write or modify the file. The corresponding node was thus named <code class="code sidskey docutils literal notranslate"><span class="pre">CGNSLibraryVersion_t</span></code>. With the advent of new libraries that can read and write CGNS databases, the node is now defined as the version of the CGNS standard. The Mid-Level Library modifies its interpretation of node data according to the CGNS version number, and other libraries should also.</p>
</div>
<div class="section" id="cgns-entry-level-structure-definition-cgnsbase-t">
<h2><span class="section-number">6.2. </span>CGNS Entry Level Structure Definition: <code class="docutils literal notranslate"><span class="pre">CGNSBase_t</span></code><a class="headerlink" href="#cgns-entry-level-structure-definition-cgnsbase-t" title="Permalink to this headline">¶</a></h2>
<p>The highest level structure in a CGNS database is <code class="code sidskey docutils literal notranslate"><span class="pre">CGNSBase_t</span></code>. This top level entity is designed to be self-contained, a complete CFD computation can be archived and reproduced using the data defined in the CGNSBase. However a CGNS tree can contain more than one base, these can be related to the same CFD case or not. The behavior of a multi-base CGNS tree is application dependant, even if inter-base relationships are authorized in three cases:</p>
<blockquote>
<div><ul class="simple">
<li><p>A reference to another base’s zone name (including its sub-nodes’ names) as defined in the multi-zone connectivities (see <span class="xref std std-ref">Multizone Interface Connectivity</span> and time-dependant pointers <span class="xref std std-ref">Time-Dependent Flow</span>);</p></li>
<li><p>A reference to another base’s family name (see <span class="xref std std-ref">Family Data Structure Definition</span>: <code class="code sidsref docutils literal notranslate"><span class="pre">Family_t</span></code>) as as <code class="code sidskey docutils literal notranslate"><span class="pre">FamilyName_t</span></code> data;</p></li>
<li><p>A LogicalLink() from one base to another on any kind of node;</p></li>
</ul>
</div></blockquote>
<p>Care must be taken on precedence rules and scope in the case of parsing multiple CGNS bases (see <a class="reference internal" href="#precedence"><span class="std std-ref">Precedence Rules and Scope Within the Hierarchy</span></a>).</p>
<p>The CGNS Base contains the cell dimension and physical dimension of the computational grid and lists of zones and families making up the domain. Globally applicable information, including a reference state, a set of flow equations, dimensional units, time step or iteration information, and convergence history are also attached. In addition, structures for describing or annotating the database are also provided; these same descriptive mechanisms are provided for structures at all levels of the hierarchy.</p>
<div class="highlight-sids notranslate"><div class="highlight"><pre><span></span><span class="kt">CGNSBase_t</span><span class="w"> </span><span class="o">:=</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">Descriptor_t</span><span class="w"> </span><span class="n">Descriptor1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">DescriptorN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">                 </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">CellDimension</span><span class="w"> </span><span class="p">;</span><span class="w">                                                </span><span class="kr">(r)</span><span class="w"></span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">PhysicalDimension</span><span class="w"> </span><span class="p">;</span><span class="w">                                            </span><span class="kr">(r)</span><span class="w"></span>

<span class="w">  </span><span class="kt">BaseIterativeData_t</span><span class="w"> </span><span class="n">BaseIterativeData</span><span class="w"> </span><span class="p">;</span><span class="w">                            </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">Zone_t</span><span class="o">&lt;</span><span class="n">CellDimension</span><span class="p">,</span><span class="w"> </span><span class="n">PhysicalDimension</span><span class="o">&gt;</span><span class="w"> </span><span class="n">Zone1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ZoneN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">ReferenceState_t</span><span class="w"> </span><span class="n">ReferenceState</span><span class="w"> </span><span class="p">;</span><span class="w">                                  </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">Axisymmetry_t</span><span class="w"> </span><span class="n">Axisymmetry</span><span class="w"> </span><span class="p">;</span><span class="w">                                        </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">RotatingCoordinates_t</span><span class="w"> </span><span class="n">RotatingCoordinates</span><span class="w"> </span><span class="p">;</span><span class="w">                        </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">Gravity_t</span><span class="w"> </span><span class="n">Gravity</span><span class="w"> </span><span class="p">;</span><span class="w">                                                </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">SimulationType_t</span><span class="w"> </span><span class="n">SimulationType</span><span class="w"> </span><span class="p">;</span><span class="w">                                  </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">DataClass_t</span><span class="w"> </span><span class="n">DataClass</span><span class="w"> </span><span class="p">;</span><span class="w">                                            </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">DimensionalUnits_t</span><span class="w"> </span><span class="n">DimensionalUnits</span><span class="w"> </span><span class="p">;</span><span class="w">                              </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">FlowEquationSet_t</span><span class="o">&lt;</span><span class="n">CellDimension</span><span class="o">&gt;</span><span class="w"> </span><span class="n">FlowEquationSet</span><span class="w"> </span><span class="p">;</span><span class="w">                 </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">ConvergenceHistory_t</span><span class="w"> </span><span class="n">GlobalConvergenceHistory</span><span class="w"> </span><span class="p">;</span><span class="w">                    </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">IntegralData_t</span><span class="w"> </span><span class="n">IntegralData1</span><span class="p">...</span><span class="w"> </span><span class="n">IntegralDataN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">            </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">Family_t</span><span class="w"> </span><span class="n">Family1</span><span class="p">...</span><span class="w"> </span><span class="n">FamilyN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">                              </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">UserDefinedData_t</span><span class="w"> </span><span class="n">UserDefinedData1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">UserDefinedDataN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">  </span><span class="kr">(o)</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Default names for the <code class="code sidsref docutils literal notranslate"><span class="pre">Descriptor_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">Zone_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">IntegralData_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">Family_t</span></code> and <code class="code sidsref docutils literal notranslate"><span class="pre">UserDefinedData_t</span></code> lists are as shown;
users may choose other legitimate names. Legitimate names must be unique at this level and shall not include the names <code class="code sidskey docutils literal notranslate"><span class="pre">Axisymmetry</span></code>, :sidskey:` BaseIterativeData`, <code class="code sidskey docutils literal notranslate"><span class="pre">DataClass</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">DimensionalUnits</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">FlowEquationSet</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">GlobalConvergenceHistory</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">Gravity</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">ReferenceState</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">RotatingCoordinates</span></code> or <code class="code sidskey docutils literal notranslate"><span class="pre">SimulationType</span></code>.</p></li>
<li><p>The number of entities of type <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code> defines the number of zones in the domain.</p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code> and <code class="code sidskey docutils literal notranslate"><span class="pre">PhysicalDimension</span></code> are the only required fields. The <code class="code sidskey docutils literal notranslate"><span class="pre">Descriptor_t</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code> and <code class="code sidskey docutils literal notranslate"><span class="pre">IntegralData_t</span></code> lists may be empty, and all other optional fields absent.</p></li>
</ol>
</div>
<p>Note that we make the distinction between the following:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="code sidskey docutils literal notranslate"><span class="pre">IndexDimension</span></code></p></td>
<td><p>Number of different indices required to reference a node (e.g., 1 = <span class="math notranslate nohighlight">\(i\)</span>, 2 = <span class="math notranslate nohighlight">\(i,j\)</span>, 3 = <span class="math notranslate nohighlight">\(i,j,k\)</span>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code></p></td>
<td><p>Dimensionality of the cell in the mesh (e.g., 3 for a volume cell, 2 for a face cell)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code sidskey docutils literal notranslate"><span class="pre">PhysicalDimension</span></code></p></td>
<td><p>Number of coordinates required to define a node position (e.g., 1 for 1-D, 2 for 2-D, 3 for 3-D)</p></td>
</tr>
</tbody>
</table>
<p>These three dimensions may differ depending on the mesh. For example, an unstructured triangular surface mesh representing the wet surface of an aircraft will have:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">IndexDimension</span></code> = 1 (always for unstructured)</p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code> = 2 (face elements)</p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">PhysicalDimension</span></code> = 3 (needs <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span>, <span class="math notranslate nohighlight">\(z\)</span> coordinates since it is a 3D surface)</p></li>
</ul>
</div></blockquote>
<p>For a structured zone, the quantities <code class="code sidskey docutils literal notranslate"><span class="pre">IndexDimension</span></code> and <code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code> are always equal. For an unstructured zone, <code class="code sidskey docutils literal notranslate"><span class="pre">IndexDimension</span></code> always equals 1. Therefore, storing <code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code> at the <code class="code sidskey docutils literal notranslate"><span class="pre">CGNSBase_t</span></code> level will automatically define the <code class="code sidskey docutils literal notranslate"><span class="pre">IndexDimension</span></code> value for each zone.</p>
<p>On the other hand we assume that all zones of the base have the same <code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code>, e.g. if <code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code> is 3, all zones must be composed of 3D cells within the <code class="code sidskey docutils literal notranslate"><span class="pre">CGNSBase_t</span></code>.</p>
<p>We need <code class="code sidskey docutils literal notranslate"><span class="pre">IndexDimension</span></code> for both structured and unstructured zones in order to use original data structures such as <code class="code sidsref docutils literal notranslate"><span class="pre">GridCoordinates_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">FlowSolution_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">DiscreteData_t</span></code>, etc.
<code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code> is necessary to express the interpolants in <code class="code sidskey docutils literal notranslate"><span class="pre">ZoneConnectivity</span></code> with an unstructured zone (mismatch or overset connectivity). When the cells are bidimensional, two interpolants per node are required, whereas when the cells are tridimensional, three interpolants per node must be provided. <code class="code sidskey docutils literal notranslate"><span class="pre">PhysicalDimension</span></code> becomes useful when expressing quantities such as the <code class="code sidskey docutils literal notranslate"><span class="pre">InwardNormalList</span></code> in the <code class="code sidsref docutils literal notranslate"><span class="pre">BC_t</span></code> data structure. It’s possible to have a mesh where <code class="code sidskey docutils literal notranslate"><span class="pre">IndexDimension</span></code> = 2 but the normal vectors still require <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span>, <span class="math notranslate nohighlight">\(z\)</span> components in order to be properly defined. Consider, for example, a structured surface mesh in the 3D space.</p>
<p>Information about the number of time steps or iterations being recorded, and the time and/or iteration values at each step, may be contained in the <code class="code sidsref docutils literal notranslate"><span class="pre">BaseIterativeData</span></code> structure.</p>
<p>Data specific to each zone in a multizone case is contained in the list of <code class="code sidsref docutils literal notranslate"><span class="pre">Zone_t</span></code> structure entities.</p>
<p>Reference data applicable to the entire CGNS database is contained in the <code class="code sidsref docutils literal notranslate"><span class="pre">ReferenceState</span></code> structure; quantities such as Reynolds number and freestream Mach number are contained here (for external flow problems).</p>
<p><code class="code sidsref docutils literal notranslate"><span class="pre">Axisymmetry</span></code> may be used to specify the axis of rotation and the circumferential extent for an axisymmetric database.</p>
<p>If a rotating coordinate system is being used, the rotation center and rotation rate vector may be specified using the <code class="code sidsref docutils literal notranslate"><span class="pre">RotatingCoordinates</span></code> structure.</p>
<p><code class="code sidsref docutils literal notranslate"><span class="pre">Gravity</span></code> may be used to define the gravitational vector.</p>
<p><code class="code sidskey docutils literal notranslate"><span class="pre">SimulationType</span></code> is an enumeration type identifying the type of simulation. The default value is <code class="code sidskey docutils literal notranslate"><span class="pre">SimulationTypeNull</span></code>.</p>
<div class="highlight-sids notranslate"><div class="highlight"><pre><span></span><span class="kt">SimulationType_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">Enumeration</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n">SimulationTypeNull</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">SimulationTypeUserDefined</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">TimeAccurate</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">NonTimeAccurate</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p><code class="code sidsref docutils literal notranslate"><span class="pre">DataClass</span></code> describes the global default for the class of data contained in the CGNS database. If the CGNS database contains dimensional data (e.g., velocity with units of <span class="math notranslate nohighlight">\(m/s\)</span>), <code class="code sidsref docutils literal notranslate"><span class="pre">DimensionalUnits</span></code> may be used to describe the system of units employed.</p>
<p><code class="code sidsref docutils literal notranslate"><span class="pre">FlowEquationSet</span></code> contains a description of the governing flow equations associated with the entire CGNS database. This structure contains information on the general class of governing equations (e.g., Euler or Navier-Stokes), equation sets required for closure, including turbulence modeling and equations of state, and constants associated with the equations.</p>
<p><code class="code sidsref docutils literal notranslate"><span class="pre">DataClass</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">DimensionalUnits</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">ReferenceState</span></code>, and <code class="code sidsref docutils literal notranslate"><span class="pre">FlowEquationSet</span></code> have special function in the CGNS hierarchy. They are globally applicable throughout the database, but their precedence may be superseded by local entities (e.g., within a given zone). The scope of these entities and the rules for determining precedence are treated in the section on <a class="reference internal" href="#precedence"><span class="std std-ref">Precedence Rules and Scope Within the Hierarchy</span></a>.</p>
<p>Globally relevant convergence history information is contained in <code class="code sidsref docutils literal notranslate"><span class="pre">GlobalConvergenceHistory</span></code>. This convergence information includes total configuration forces, moments, and global residual and solution-change norms taken over all the zones.</p>
<p>Miscellaneous global data may be contained in the <code class="code sidsref docutils literal notranslate"><span class="pre">IntegralData_t</span></code> list. Candidates for inclusion here are global forces and moments.</p>
<div class="section" id="base-level-families">
<h3><span class="section-number">6.2.1. </span>Base Level Families<a class="headerlink" href="#base-level-families" title="Permalink to this headline">¶</a></h3>
<p>The <code class="code sidsref docutils literal notranslate"><span class="pre">Family_t</span></code> data structure is used to record geometry reference data.
It may also include boundary conditions linked to geometry patches. For the purpose of defining material properties, families may also be defined for groups of elements.
The family-mesh association is defined under the <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code>, the <code class="code sidskey docutils literal notranslate"><span class="pre">ZoneSubRegion_t</span></code> and <code class="code sidskey docutils literal notranslate"><span class="pre">BC_t</span></code> data structures by specifying the family name corresponding to a zone or a boundary patch. The familyname can refer to a <code class="code sidskey docutils literal notranslate"><span class="pre">Family_t</span></code> defined in a <code class="code sidskey docutils literal notranslate"><span class="pre">CGNSBase_t</span></code> other than the referring <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code>, the <code class="code sidskey docutils literal notranslate"><span class="pre">ZoneSubRegion_t</span></code> or <code class="code sidskey docutils literal notranslate"><span class="pre">BC_t</span></code>.
In this case, the actual name of the <code class="code sidskey docutils literal notranslate"><span class="pre">Family_t</span></code> has to be prefixed by the <code class="code sidskey docutils literal notranslate"><span class="pre">CGNSBase_t</span></code> name.
The pattern is then <code class="docutils literal notranslate"><span class="pre">BaseName/FamilyName</span></code>, only one single <code class="docutils literal notranslate"><span class="pre">/</span></code> character is allowed, and neither of <code class="docutils literal notranslate"><span class="pre">BaseName</span></code> nor <code class="docutils literal notranslate"><span class="pre">FamilyName</span></code> should be empty. This <code class="code sidskey docutils literal notranslate"><span class="pre">Family_t</span></code> node can be a direct child of the <code class="code sidskey docutils literal notranslate"><span class="pre">CGNSBase_t</span></code> or a child of another <code class="code sidskey docutils literal notranslate"><span class="pre">Family_t</span></code>.
The actual family name has the pattern <code class="docutils literal notranslate"><span class="pre">/&lt;CGNSBase_t&gt;/&lt;FamilyName1&gt;/&lt;FamilyName2&gt;/.../&lt;FamilyNameN&gt;</span></code>.
The family-mesh association is defined under the <code class="code sidsref docutils literal notranslate"><span class="pre">Zone_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">ZoneSubRegion_t</span></code> and <code class="code sidsref docutils literal notranslate"><span class="pre">BC_t</span></code> data structures by specifying the family name corresponding to a zone, a zone sub-region or a boundary patch in a <code class="code sidskey docutils literal notranslate"><span class="pre">FamilyName_t</span></code> node. If the value of the <code class="code sidskey docutils literal notranslate"><span class="pre">FamilyName_t</span></code> node does not have a <code class="docutils literal notranslate"><span class="pre">/</span></code> character in it, then the name refers to a family being a direct child of its CGNS base. Otherwise, if this value has at least one <code class="docutils literal notranslate"><span class="pre">/</span></code> in it, the pattern <code class="docutils literal notranslate"><span class="pre">/&lt;CGNSBase_t&gt;/&lt;FamilyName1&gt;/&lt;FamilyName2&gt;/.../&lt;FamilyNameN&gt;</span></code> is mandatory.</p>
<p>The <code class="code sidsref docutils literal notranslate"><span class="pre">UserDefinedData_t</span></code> data structure allows arbitrary user-defined data to be stored in <code class="code sidsref docutils literal notranslate"><span class="pre">Descriptor_t</span></code> and <code class="code sidsref docutils literal notranslate"><span class="pre">DataArray_t</span></code> children without the restrictions or implicit meanings imposed on these node types at other node locations.</p>
</div>
</div>
<div class="section" id="zone-structure-definition-zone-t">
<h2><span class="section-number">6.3. </span>Zone Structure Definition: <code class="docutils literal notranslate"><span class="pre">Zone_t</span></code><a class="headerlink" href="#zone-structure-definition-zone-t" title="Permalink to this headline">¶</a></h2>
<p>The <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code> structure contains all information pertinent to an individual zone. This information includes the zone type, the number of cells and vertices making up the grid in that zone, the physical coordinates of the grid vertices, grid motion information, the family, the flow solution, zone interface connectivity, boundary conditions, and zonal convergence history data. Zonal data may be recorded at multiple time steps or iterations. In addition, this structure contains a reference state, a set of flow equations and dimensional units that are all unique to the zone. For unstructured zones, the element connectivity may also be recorded.</p>
<div class="highlight-sids notranslate"><div class="highlight"><pre><span></span><span class="kt">ZoneType_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">Enumeration</span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n">ZoneTypeNull</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">ZoneTypeUserDefined</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">Structured</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">Unstructured</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="kt">Zone_t</span><span class="o">&lt;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">CellDimension</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">PhysicalDimension</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">:=</span><span class="w"></span>
<span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">Descriptor_t</span><span class="w"> </span><span class="n">Descriptor1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">DescriptorN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">                 </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">ZoneType_t</span><span class="w"> </span><span class="n">ZoneType</span><span class="w"> </span><span class="p">;</span><span class="w">                                              </span><span class="kr">(r)</span><span class="w"></span>

<span class="w">  </span><span class="kt">int</span><span class="p">[</span><span class="n">IndexDimension</span><span class="p">]</span><span class="w"> </span><span class="n">VertexSize</span><span class="w"> </span><span class="p">;</span><span class="w">                                   </span><span class="kr">(r)</span><span class="w"></span>
<span class="w">  </span><span class="kt">int</span><span class="p">[</span><span class="n">IndexDimension</span><span class="p">]</span><span class="w"> </span><span class="n">CellSize</span><span class="w"> </span><span class="p">;</span><span class="w">                                     </span><span class="kr">(r)</span><span class="w"></span>
<span class="w">  </span><span class="kt">int</span><span class="p">[</span><span class="n">IndexDimension</span><span class="p">]</span><span class="w"> </span><span class="n">VertexSizeBoundary</span><span class="w"> </span><span class="p">;</span><span class="w">                           </span><span class="kr">(o/d)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">GridCoordinates_t</span><span class="o">&lt;</span><span class="n">IndexDimension</span><span class="p">,</span><span class="w"> </span><span class="n">VertexSize</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">        </span><span class="n">GridCoordinates</span><span class="w"> </span><span class="n">MovedGrid1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">MovedGridN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">                </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">Elements_t</span><span class="w"> </span><span class="n">Elements1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ElementsN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">                       </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">RigidGridMotion_t</span><span class="w"> </span><span class="n">RigidGridMotion1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">RigidGridMotionN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">  </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">ArbitraryGridMotion_t</span><span class="o">&lt;</span><span class="n">IndexDimension</span><span class="p">,</span><span class="w"> </span><span class="n">VertexSize</span><span class="p">,</span><span class="w"> </span><span class="n">CellSize</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">        </span><span class="n">ArbitraryGridMotion1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ArbitraryGridMotionN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">            </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">FamilyName_t</span><span class="w"> </span><span class="n">FamilyName</span><span class="w"> </span><span class="p">;</span><span class="w">                                          </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">AdditionalFamilyName_t</span><span class="w"> </span><span class="n">AddFamilyName1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">AddFamilyNameN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">FlowSolution_t</span><span class="o">&lt;</span><span class="n">CellDimension</span><span class="p">,</span><span class="w"> </span><span class="n">IndexDimension</span><span class="p">,</span><span class="w"> </span><span class="n">VertexSize</span><span class="p">,</span><span class="w"> </span><span class="n">CellSize</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">        </span><span class="n">FlowSolution1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">FlowSolutionN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">                          </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">DiscreteData_t</span><span class="o">&lt;</span><span class="n">CellDimension</span><span class="p">,</span><span class="w"> </span><span class="n">IndexDimension</span><span class="p">,</span><span class="w"> </span><span class="n">VertexSize</span><span class="p">,</span><span class="w"> </span><span class="n">CellSize</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">        </span><span class="n">DiscreteData1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">DiscreteDataN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">                          </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">IntegralData_t</span><span class="w"> </span><span class="n">IntegralData1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">IntegralDataN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">           </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">ZoneGridConnectivity_t</span><span class="o">&lt;</span><span class="n">IndexDimension</span><span class="p">,</span><span class="w"> </span><span class="n">CellDimension</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">        </span><span class="n">ZoneGridConnectivity1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ZoneGridConnectivityN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">          </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">ZoneSubRegion_t</span><span class="o">&lt;</span><span class="n">IndexDimension</span><span class="p">,</span><span class="w"> </span><span class="n">VertexSize</span><span class="p">,</span><span class="w"> </span><span class="n">CellSize</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">        </span><span class="n">ZoneSubRegion1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">ZoneSubRegionN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">                        </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">ZoneBC_t</span><span class="o">&lt;</span><span class="n">CellDimension</span><span class="p">,</span><span class="w"> </span><span class="n">IndexDimension</span><span class="p">,</span><span class="w"> </span><span class="n">PhysicalDimension</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ZoneBC</span><span class="w"> </span><span class="p">;</span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">ZoneIterativeData_t</span><span class="o">&lt;</span><span class="n">NumberOfSteps</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ZoneIterativeData</span><span class="w"> </span><span class="p">;</span><span class="w">             </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">ReferenceState_t</span><span class="w"> </span><span class="n">ReferenceState</span><span class="w"> </span><span class="p">;</span><span class="w">                                  </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">RotatingCoordinates_t</span><span class="w"> </span><span class="n">RotatingCoordinates</span><span class="w"> </span><span class="p">;</span><span class="w">                        </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">DataClass_t</span><span class="w"> </span><span class="n">DataClass</span><span class="w"> </span><span class="p">;</span><span class="w">                                            </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">DimensionalUnits_t</span><span class="w"> </span><span class="n">DimensionalUnits</span><span class="w"> </span><span class="p">;</span><span class="w">                              </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">FlowEquationSet_t</span><span class="o">&lt;</span><span class="n">CellDimension</span><span class="o">&gt;</span><span class="w"> </span><span class="n">FlowEquationSet</span><span class="w"> </span><span class="p">;</span><span class="w">                 </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">ConvergenceHistory_t</span><span class="w"> </span><span class="n">ZoneConvergenceHistory</span><span class="w"> </span><span class="p">;</span><span class="w">                      </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="k">List</span><span class="p">(</span><span class="w"> </span><span class="kt">UserDefinedData_t</span><span class="w"> </span><span class="n">UserDefinedData1</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="n">UserDefinedDataN</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w">  </span><span class="kr">(o)</span><span class="w"></span>

<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">Ordinal</span><span class="w"> </span><span class="p">;</span><span class="w">                                                      </span><span class="kr">(o)</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Default names for the <code class="code sidsref docutils literal notranslate"><span class="pre">Descriptor_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">Elements_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">FlowSolution_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">DiscreteData_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">IntegralData_t</span></code>, and <code class="code sidsref docutils literal notranslate"><span class="pre">UserDefinedData_t</span></code> lists are as shown; users may choose other legitimate names. Legitimate names must be unique within a given instance of <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code> and shall not include the names <code class="code sidskey docutils literal notranslate"><span class="pre">DataClass</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">DimensionalUnits</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">FamilyName</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">FlowEquationSet</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">GridCoordinates</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">Ordinal</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">ReferenceState</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">RotatingCoordinates</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">ZoneBC</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">ZoneConvergenceHistory</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">ZoneGridConnectivity</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">ZoneIterativeData</span></code>, or <code class="code sidskey docutils literal notranslate"><span class="pre">ZoneType</span></code>.</p></li>
<li><p>The original grid coordinates should have the name <code class="code sidskey docutils literal notranslate"><span class="pre">GridCoordinates</span></code>. Default names for the remaining entities in the <code class="code sidsref docutils literal notranslate"><span class="pre">GridCoordinates_t</span></code> list are as shown; users may choose other legitimate names, subject to the restrictions listed in the previous note.</p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">ZoneType</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">VertexSize</span></code>, and <code class="code sidskey docutils literal notranslate"><span class="pre">CellSize</span></code> are the only required fields within the <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code> structure.</p></li>
</ol>
</div>
<p><code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code> requires the parameters <code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code> and <code class="code sidskey docutils literal notranslate"><span class="pre">PhysicalDimension</span></code>. <code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code>, along with the type of zone, determines <code class="code sidskey docutils literal notranslate"><span class="pre">IndexDimension</span></code>; if the zone type is Unstructured, <code class="code sidskey docutils literal notranslate"><span class="pre">IndexDimension</span></code> = 1, and if the zone type is <code class="code sidskey docutils literal notranslate"><span class="pre">Structured</span></code>, <code class="code sidskey docutils literal notranslate"><span class="pre">IndexDimension</span></code> = <code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code>. These three structure parameters identify the dimensionality of the grid-size arrays. One or more of them are passed on to the grid coordinates, flow solution, interface connectivity, boundary condition and flow-equation description structures.</p>
<p><code class="code sidskey docutils literal notranslate"><span class="pre">VertexSize</span></code> is the number of vertices in each index direction, and <code class="code sidskey docutils literal notranslate"><span class="pre">CellSize</span></code> is the number of cells in each direction. For example, for structured grids in 3-D, <code class="code sidskey docutils literal notranslate"><span class="pre">CellSize</span> <span class="pre">=</span> <span class="pre">VertexSize</span> <span class="pre">-</span> <span class="pre">[1,1,1]</span></code>, and for unstructured grids in 3-D, <code class="code sidskey docutils literal notranslate"><span class="pre">CellSize</span></code> is simply the total number of 3-D cells. <code class="code sidskey docutils literal notranslate"><span class="pre">VertexSize</span></code> is the number of vertices defining “the grid” or the domain (i.e., without rind points); <code class="code sidskey docutils literal notranslate"><span class="pre">CellSize</span></code> is the number of cells on the interior of the domain. These two grid-size arrays are passed onto the grid-coordinate, flow-solution and discrete-data substructures.</p>
<p>If the nodes are sorted between internal nodes and boundary nodes, then the optional parameter <code class="code sidskey docutils literal notranslate"><span class="pre">VertexSizeBoundary</span></code> must be set equal to the number of boundary nodes. If the nodes are sorted, the grid coordinate vector must first include the boundary nodes, followed by the internal nodes. By default, <code class="code sidskey docutils literal notranslate"><span class="pre">VertexSizeBoundary</span></code> equals zero, meaning that the nodes are unsorted. This option is only useful for unstructured zones. For structured zones, <code class="code sidskey docutils literal notranslate"><span class="pre">VertexSizeBoundary</span></code> always equals 0 in all index directions.</p>
<p>The <code class="code sidsref docutils literal notranslate"><span class="pre">GridCoordinates_t</span></code> structure defines “the grid”; it contains the physical coordinates of the grid vertices, and may optionally contain physical coordinates of rind or ghost points. The original grid is contained in <code class="code sidskey docutils literal notranslate"><span class="pre">GridCoordinates</span></code>. Additional <code class="code sidskey docutils literal notranslate"><span class="pre">GridCoordinates_t</span></code> data structures are allowed, to store the grid at multiple time steps or iterations.</p>
<p>When the grid nodes are sorted, the <code class="code sidsref docutils literal notranslate"><span class="pre">DataArray_t</span></code> in <code class="code sidsref docutils literal notranslate"><span class="pre">GridCoordinates_t</span></code> lists first the data for the boundary nodes, then the data for the internal nodes.</p>
<p>The <code class="code sidsref docutils literal notranslate"><span class="pre">Elements_t</span></code> data structure contains unstructured elements data such as connectivity, element type, parent elements, etc.</p>
<p>The <code class="code sidsref docutils literal notranslate"><span class="pre">RigidGridMotion_t</span></code> and <code class="code sidsref docutils literal notranslate"><span class="pre">ArbitraryGridMotion_t</span></code> data structures contain information defining rigid and arbitrary (i.e., deforming) grid motion.</p>
<p><code class="code sidskey docutils literal notranslate"><span class="pre">FamilyName</span></code> identifies to which family a zone belongs. Families may be used to define material properties. Where multiple families are desired, <code class="code sidskey docutils literal notranslate"><span class="pre">AdditionalFamilyName</span></code> nodes may be used to specify them. Both <code class="code sidskey docutils literal notranslate"><span class="pre">FamilyName</span></code> and <code class="code sidskey docutils literal notranslate"><span class="pre">AdditionalFamilyName</span></code> should refer to a <code class="code sidskey docutils literal notranslate"><span class="pre">CGNSBase_t</span></code> level <code class="code sidskey docutils literal notranslate"><span class="pre">Family_t</span></code>, in the parent base of the zone or in another sibbling base (see <span class="xref std std-ref">Base Level Families</span>).</p>
<p>Flow-solution quantities are contained in the list of <code class="code sidsref docutils literal notranslate"><span class="pre">FlowSolution_t</span></code> structures. Each instance of the <code class="code sidskey docutils literal notranslate"><span class="pre">FlowSolution_t</span></code> structure is only allowed to contain data at a single grid location (vertices, cell-centers, etc.); multiple <code class="code sidskey docutils literal notranslate"><span class="pre">FlowSolution_t</span></code> structures are provided to store flow-solution data at different grid locations, to record different solutions at the same grid location, or to store solutions at multiple time steps or iterations. These structures may optionally contain solution data defined at rind points.</p>
<p>Miscellaneous discrete field data is contained in the list of <code class="code sidsref docutils literal notranslate"><span class="pre">DiscreteData_t</span></code> structures. Candidate information includes residuals, fluxes and other related discrete data that is considered auxiliary to the flow solution. Likewise, miscellaneous zone-specific global data, other than reference-state data and convergence history information, is contained in the list of <code class="code sidsref docutils literal notranslate"><span class="pre">IntegralData_t</span></code> structures. It is envisioned that these structures will be seldom used in practice but are provided nonetheless.</p>
<p>The <code class="code sidsref docutils literal notranslate"><span class="pre">ZoneSubRegion_t</span></code> node allows flowfield or other information to be specified over a subset of the entire zone.</p>
<p>For unstructured zones only, the node-based <code class="code sidsref docutils literal notranslate"><span class="pre">DataArray_t</span></code> vectors (<code class="code sidskey docutils literal notranslate"><span class="pre">GridLocation</span> <span class="pre">=</span> <span class="pre">Vertex</span></code>) in <code class="code sidsref docutils literal notranslate"><span class="pre">FlowSolution_t</span></code> or <code class="code sidsref docutils literal notranslate"><span class="pre">DiscreteData_t</span></code> must follow exactly the same ordering as the <code class="code sidsref docutils literal notranslate"><span class="pre">GridCoordinates</span></code> vector. If the nodes are sorted (<code class="code sidskey docutils literal notranslate"><span class="pre">VertexSizeBoundary</span></code> is non-zero), the data on the boundary nodes must be listed first, followed by the data on the internal nodes.
Note that the order in which the node-based data are recorded must follow exactly the node ordering in <code class="code sidsref docutils literal notranslate"><span class="pre">GridCoordinates_t</span></code>, to be able to associate the data to the correct nodes.
For element-based data (<code class="code sidskey docutils literal notranslate"><span class="pre">GridLocation</span> <span class="pre">=</span> <span class="pre">CellCenter</span></code>), the <code class="code sidsref docutils literal notranslate"><span class="pre">FlowSolution_t</span></code> or <code class="code sidsref docutils literal notranslate"><span class="pre">DiscreteData_t</span></code> data arrays must list the data values for each element, in the same order as the elements are listed in <code class="code sidsref docutils literal notranslate"><span class="pre">ElementConnectivity</span></code>.</p>
<p>All interface connectivity information, including identification of overset-grid holes, for a given zone is contained in <code class="code sidsref docutils literal notranslate"><span class="pre">ZoneGridConnectivity</span></code>.</p>
<p>All boundary condition information pertaining to a zone is contained in <code class="code sidsref docutils literal notranslate"><span class="pre">ZoneBC_t</span></code>.</p>
<p>The <code class="code sidsref docutils literal notranslate"><span class="pre">ZoneIterativeData_t</span></code> data structure may be used to record pointers to zonal data at multiple time steps or iterations.</p>
<p>Reference-state data specific to an individual zone is contained in the <code class="code sidsref docutils literal notranslate"><span class="pre">ReferenceState</span></code> structure.</p>
<p><code class="code sidsref docutils literal notranslate"><span class="pre">RotatingCoordinates</span></code> may be used to specify the rotation center and rotation rate vector of a rotating coordinate system.</p>
<p><code class="code sidsref docutils literal notranslate"><span class="pre">DataClass</span></code> defines the zonal default for the class of data contained in the zone and its substructures. If a zone contains dimensional data, <code class="code sidsref docutils literal notranslate"><span class="pre">DimensionalUnits</span></code> may be used to describe the system of dimensional units employed.</p>
<p>If a set of flow equations are specific to a given zone, these may be described in <code class="code sidsref docutils literal notranslate"><span class="pre">FlowEquationSet</span></code>. For example, if a single zone within the domain is inviscid, whereas all other are turbulent, then this zone-specific equation set could be used to describe the special zone.</p>
<p><code class="code sidsref docutils literal notranslate"><span class="pre">DataClass</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">DimensionalUnits</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">ReferenceState</span></code>, and <code class="code sidsref docutils literal notranslate"><span class="pre">FlowEquationSet</span></code> have special function in the hierarchy. They are applicable throughout a given zone, but their precedence may be superseded by local entities contained in the zone’s substructures. If any of these entities are present within a given instance of <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code>, they take precedence over the corresponding global entities contained in database’s <code class="code sidskey docutils literal notranslate"><span class="pre">CGNSBase_t</span></code> entity. These precedence rules are further discussed in the section on <a class="reference internal" href="#precedence"><span class="std std-ref">Precedence Rules and Scope Within the Hierarchy</span></a></p>
<p>Convergence history information applicable to the zone is contained in <code class="code sidsref docutils literal notranslate"><span class="pre">ZoneConvergenceHistory</span></code>; this includes residual and solution-change norms.</p>
<p>The <code class="code sidsref docutils literal notranslate"><span class="pre">UserDefinedData_t</span></code> data structure allows arbitrary user-defined data to be stored in <code class="code sidskey docutils literal notranslate"><span class="pre">Descriptor_t</span></code> and <code class="code sidskey docutils literal notranslate"><span class="pre">DataArray_t</span></code> children without the restrictions or implicit meanings imposed on these node types at other node locations.</p>
<p><code class="code sidskey docutils literal notranslate"><span class="pre">Ordinal</span></code> is user-defined and has no restrictions on the values that it can contain. It is included for backward compatibility to assist implementation of the CGNS system into applications whose I/O depends heavily on the numbering of zones. Since there are no restrictions on the values contained in <code class="code sidskey docutils literal notranslate"><span class="pre">Ordinal</span></code> (or that <code class="code sidskey docutils literal notranslate"><span class="pre">Ordinal</span></code> is even provided), there is no guarantee that the zones in an existing CGNS database will have sequential values from 1 to <em>N</em> without holes or repetitions. Use of <code class="code sidskey docutils literal notranslate"><span class="pre">Ordinal</span></code> is discouraged and is on a user-beware basis.</p>
</div>
<div class="section" id="precedence-rules-and-scope-within-the-hierarchy">
<span id="precedence"></span><h2><span class="section-number">6.4. </span>Precedence Rules and Scope Within the Hierarchy<a class="headerlink" href="#precedence-rules-and-scope-within-the-hierarchy" title="Permalink to this headline">¶</a></h2>
<div class="section" id="single-base">
<h3><span class="section-number">6.4.1. </span>Single Base<a class="headerlink" href="#single-base" title="Permalink to this headline">¶</a></h3>
<p>The dependence of a structure entity’s information on data contained at higher levels of the hierarchy is typically explicitly expressed through structure parameters. For example, all arrays within <code class="code sidsref docutils literal notranslate"><span class="pre">Zone_t</span></code> depend on the dimensionality of the computational grid. This dimensionality is passed down to a <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code> entity through a structure parameter in the definition of <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code>.</p>
<p>We have established an alternate dependency for a limited number of entities that is not explicitly stated in the structure type definitions. These special situations include entities for describing data class, system of dimensional units, reference states and flow equation sets. At each level of the hierarchy (where appropriate), entities for describing this information are defined, and if present they take precedence over all corresponding information existing at higher levels of the CGNS hierarchy. Essentially, we have established globally applicable data with provisions for recursively overriding it with local data.</p>
<p>Specifically, the entities that follow this alternate dependency are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">FlowEquationSet_t</span></code> <code class="code sidskey docutils literal notranslate"><span class="pre">FlowEquationSet</span></code>,</p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">ReferenceState_t</span></code> <code class="code sidskey docutils literal notranslate"><span class="pre">ReferenceState</span></code>,</p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">DataClass_t</span></code> <code class="code sidskey docutils literal notranslate"><span class="pre">DataClass</span></code>,</p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">DimensionalUnits_t</span></code> <code class="code sidskey docutils literal notranslate"><span class="pre">DimensionalUnits</span></code>.</p></li>
</ul>
</div></blockquote>
<p><code class="code sidsref docutils literal notranslate"><span class="pre">FlowEquationSet</span></code> contains a description of the governing flow equations;
<code class="code sidsref docutils literal notranslate"><span class="pre">ReferenceState</span></code> describes a set of reference state flow conditions;
<code class="code sidsref docutils literal notranslate"><span class="pre">DataClass</span></code> defines the class of data (e.g., <span class="xref std std-ref">dimensional</span> or <a class="reference internal" href="array.html#normbydim"><span class="std std-ref">nondimensional</span></a>);
and <code class="code sidsref docutils literal notranslate"><span class="pre">DimensionalUnits</span></code> specifies the system of units used for dimensional data.</p>
<p>All of these entities may be defined within the highest level <code class="code sidsref docutils literal notranslate"><span class="pre">CGNSBase_t</span></code> structure, and if present in a given database, establish globally applicable information; these may also be considered to be global defaults. Each of these four entities may also be defined within the <code class="code sidsref docutils literal notranslate"><span class="pre">Zone_t</span></code> structure. If present in a given instance of <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code>, they supersede the global data and establish new defaults that apply only within that zone.</p>
<p>For example, if a different set of flow equations is solved within a given zone than is solved in the rest of the flowfield, then this can be conveyed through <code class="code sidsref docutils literal notranslate"><span class="pre">FlowEquationSet</span></code>. In this case, one <code class="code sidskey docutils literal notranslate"><span class="pre">FlowEquationSet</span></code> entity would be placed within <code class="code sidskey docutils literal notranslate"><span class="pre">CGNSBase_t</span></code> to state the globally applicable flow equations, and a second <code class="code sidskey docutils literal notranslate"><span class="pre">FlowEquationSet</span></code> entity would be placed within the given zone (within its instance of <code class="code sidskey docutils literal notranslate"><span class="pre">Zone_t</span></code>); this second <code class="code sidskey docutils literal notranslate"><span class="pre">FlowEquationSet</span></code> entity supersedes the first only within the given zone.</p>
<p>In addition to its presence in <code class="code sidsref docutils literal notranslate"><span class="pre">CGNSBase_t</span></code> and <code class="code sidsref docutils literal notranslate"><span class="pre">Zone_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">ReferenceState</span></code> may also be defined within the boundary-condition structure types to establish reference states applicable to one or more boundary-condition patches. Actually, <code class="code sidskey docutils literal notranslate"><span class="pre">ReferenceState</span></code> entities can be defined at several levels of the <a class="reference internal" href="../FMM/save_nodes.html#bc"><span class="std std-ref">boundary-condition hierarchy</span></a> to allow flexibility in setting the appropriate reference state conditions.</p>
<p><code class="code sidsref docutils literal notranslate"><span class="pre">DataClass</span></code> and <code class="code sidsref docutils literal notranslate"><span class="pre">DimensionalUnits</span></code> are used within entities describing data arrays. They classify the data and specify its system of units if dimensional. If these entities are absent from a particular instance of <code class="code sidsref docutils literal notranslate"><span class="pre">DataArray_t</span></code>, the information is derived from appropriate global data. <code class="code sidskey docutils literal notranslate"><span class="pre">DataClass</span></code> and <code class="code sidskey docutils literal notranslate"><span class="pre">DimensionalUnits</span></code> are also declared in all intermediate structure types that directly or indirectly contain <code class="code sidskey docutils literal notranslate"><span class="pre">DataArray_t</span></code> entities. Examples include <code class="code sidsref docutils literal notranslate"><span class="pre">GridCoordinates_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">FlowSolution_t</span></code>, <code class="code sidsref docutils literal notranslate"><span class="pre">BC_t</span></code>, and <code class="code sidsref docutils literal notranslate"><span class="pre">ReferenceState_t</span></code>. The same precedence rules apply - lower-level entities supersede higher-level entities.</p>
<p>It is envisioned that in practice, the use of globally applicable data will be the norm rather than the exception. It provides a measure of economy throughout the CGNS database in many situations. For example, when creating a database where the vast majority of data arrays are dimensional and use a consistent set of units, <code class="code sidsref docutils literal notranslate"><span class="pre">DataClass</span></code> and <code class="code sidsref docutils literal notranslate"><span class="pre">DimensionalUnits</span></code> can be set appropriately at the <code class="code sidsref docutils literal notranslate"><span class="pre">CGNSBase_t</span></code> level and thereafter omitted when outputting data.</p>
</div>
<div class="section" id="multiple-bases">
<h3><span class="section-number">6.4.2. </span>Multiple Bases<a class="headerlink" href="#multiple-bases" title="Permalink to this headline">¶</a></h3>
<p>With a multiple-bases CGNS tree, some nodes defined at the base level may lead to an inconsistent CGNS set of data. In that case it is up to the application using the CGNS tree to define its own understanding of the data. In particular, the following nodes are not required to be the same in all bases of a CGNS tree, thus inter-base references may lead to inconsistency:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">CellDimension</span></code> and <code class="code sidskey docutils literal notranslate"><span class="pre">PhysicalDimension</span></code></p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">ReferenceState</span></code></p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">Axisymmetry</span></code></p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">RotatingCoordinates</span></code></p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">Gravity</span></code></p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">SimulationType</span></code></p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">DataClass</span></code></p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">DimensionalUnits</span></code></p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">FlowEquationSet</span></code></p></li>
<li><p><code class="code sidskey docutils literal notranslate"><span class="pre">Family_t</span></code></p></li>
</ul>
</div></blockquote>
<p>The application has to take into account the corresponding base definition for the referred-to node.</p>
</div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="array.html" title="previous chapter (use the left arrow)"><span class="section-number">5. </span>Data-Array Structure Definitions</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="grid.html" title="next chapter (use the right arrow)"><span class="section-number">7. </span>Grid Coordinates, Elements, and Flow Solution</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="grid.html" title="7. Grid Coordinates, Elements, and Flow Solution"
             >next</a> |</li>
        <li class="right" >
          <a href="array.html" title="5. Data-Array Structure Definitions"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CGNS Official Web Site</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../standard.html" >Standard Specification</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="CGNS_SIDS.html" >CGNS/SIDS - Standard Interface Data Structures</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">6. </span>Hierarchical Structures</a></li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="../../_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 1991-2020, CGNS Steering Commmittee. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>